---
title: "Flutterã§å‰ã®ç”»é¢ã«æˆ»ã‚‹å‰ã«ç‰¹å®šã®å‡¦ç†ã‚’æŒŸã‚€æ–¹æ³•"
emoji: "ğŸ™Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Flutter"]
published: true
---

## TLDR

Flutterã§å‰ã®ç”»é¢ã¸æˆ»ã‚‹å‰ã«ãªã‚“ã‚‰ã‹ã®å‡¦ç†ã‚’æŒŸã¿ãŸã„å ´åˆã¯æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚’ä»»æ„ã®ç‰©ã«æ›¸ãæ›ãˆã‚‹ã‹ã€`WillPopScope`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã†ã¨è‰¯ã„

### WillPopScope`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã†å ´åˆ

```dart
class MyPage extends StatelessWidget {
  const MyPage({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return WillPopScope( // WillPopScopeã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å›²ã†
      onWillPop: () async {
        // ã“ã“ã§ä»»æ„ã®å‡¦ç†
        return true; // trueã‚’è¿”ã™ã¨å‰ã®ç”»é¢ã¸é·ç§»
      },
      child: Scaffold(
        appBar: AppBar(
          title: const Text('My page'),
        ),
        body: // çœç•¥
      ),
    );
  }
}
```

### æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚’ä»»æ„ã®ç‰©ã«å¤‰æ›´ã™ã‚‹å ´åˆ

```dart
class MyPage extends StatelessWidget {
  const MyPage({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        automaticallyImplyLeading: false, // è‡ªå‹•ã§ç”Ÿæˆã•ã‚Œã‚‹æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
        leading: const BackButton(), // ä½œæˆã—ãŸãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ãŸæˆ»ã‚‹ãƒœã‚¿ãƒ³ã®å¤‰ã‚ã‚Šã«è¨­å®š
        title: const Text('My Page'),
      ),
      body: // çœç•¥
    );
  }
}

class BackButton extends StatelessWidget {
  const BackButton({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return TextButton(
      child: const Text(
        '<',
        style: TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
          fontSize: 12.0,
        ),
      ),
      onPressed: () {
        // ã“ã“ã§ä»»æ„ã®å‡¦ç†
        Navigator.of(context).pop(); // å‰ã®ç”»é¢ã¸é·ç§»
      },
    );
  }
}
```
